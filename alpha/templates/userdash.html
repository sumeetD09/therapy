{% extends 'base.html' %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<style>
    body {
        font-family: 'Inter', sans-serif;
        background-color: #f9fafb;
        color: #1a202c;
        margin: 0;
        padding: 0;
    }

    h1, h2, h3 {
        color: #2d3748;
    }

    .container {
        max-width: 1280px;
        margin: 0 auto;
        padding: 0 1.5rem;
    }

    .grid {
        display: grid;
        gap: 1.5rem;
    }

    .grid-cols-1 {
        grid-template-columns: repeat(1, 1fr);
    }

    .grid-cols-4 {
        grid-template-columns: repeat(4, 1fr);
    }

    .md\:grid-cols-4 {
        grid-template-columns: repeat(4, 1fr);
    }

    .gap-6 {
        gap: 1.5rem;
    }

    .bg-white {
        background-color: #fff;
    }

    .rounded-lg {
        border-radius: 0.5rem;
    }

    .shadow-md {
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .p-6 {
        padding: 1.5rem;
    }

    .text-gray-500 {
        color: #6b7280;
    }

    .text-sm {
        font-size: 0.875rem;
    }

    .font-medium {
        font-weight: 500;
    }

    .text-3xl {
        font-size: 1.875rem;
    }

    .font-bold {
        font-weight: 700;
    }

    .max-w-7xl {
        max-width: 84rem;
        margin-left: auto;
        margin-right: auto;
    }

    .mx-auto {
        margin-left: auto;
        margin-right: auto;
    }

    .mb-8 {
        margin-bottom: 2rem;
    }

    .overflow-hidden {
        overflow: hidden;
    }

    .px-6 {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }

    .py-4 {
        padding-top: 1rem;
        padding-bottom: 1rem;
    }

    .border-b {
        border-bottom-width: 1px;
    }

    .border-gray-200 {
        border-color: #e5e7eb;
    }

    .text-xl {
        font-size: 1.25rem;
    }

    .font-semibold {
        font-weight: 600;
    }

    .overflow-x-auto {
        overflow-x: auto;
    }

    .min-w-full {
        min-width: 100%;
    }

    .divide-y {
        border-collapse: collapse;
    }

    .divide-gray-200 {
        border-color: #e5e7eb;
    }

    .bg-gray-50 {
        background-color: #f9fafb;
    }

    .py-3 {
        padding-top: 0.75rem;
        padding-bottom: 0.75rem;
    }

    .text-left {
        text-align: left;
    }

    .text-xs {
        font-size: 0.75rem;
    }

    .uppercase {
        text-transform: uppercase;
    }

    .whitespace-nowrap {
        white-space: nowrap;
    }

    .text-gray-500 {
        color: #6b7280;
    }

    .inline-flex {
        display: inline-flex;
    }

    .text-green-800 {
        color: #22543d;
    }

    .bg-green-100 {
        background-color: #f0fff4;
    }

    .text-yellow-800 {
        color: #7c2d12;
    }

    .bg-yellow-100 {
        background-color: #fefcbf;
    }

    .text-center {
        text-align: center;
    }
</style>

<div class="max-w-7xl mx-auto">
    <h1 class="text-3xl font-bold mb-8">Welcome Admin</h1>

    <!-- Statistics Cards -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
        <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-gray-500 text-sm font-medium">Total Users</h3>
            <p class="text-3xl font-bold"> total users </p>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-gray-500 text-sm font-medium">Total Therapists</h3>
            <p class="text-3xl font-bold"> total_therapists </p>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-gray-500 text-sm font-medium">Total Bookings</h3>
            <p class="text-3xl font-bold"> total_bookings </p>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-gray-500 text-sm font-medium">Revenue</h3>
            <p class="text-3xl font-bold"> total_revenue </p>
        </div>
    </div>

    <!-- Recent Bookings -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <div class="px-6 py-4 border-b border-gray-200">
            <h2 class="text-xl font-semibold">Recent Bookings</h2>
        </div>
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Client</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Therapist</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Date</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Type</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Amount</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    {% for booking in recent_bookings %}
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap"> booking.user.get_full_name </td>
                        <td class="px-6 py-4 whitespace-nowrap"> booking.therapist.full_name </td>
                        <td class="px-6 py-4 whitespace-nowrap"> booking.time_slot.date|date:"M d, Y" </td>
                        <td class="px-6 py-4 whitespace-nowrap"> booking.therapy_type|title </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                             booking.amount 
                        </td>
                    </tr>
                    {% empty %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}